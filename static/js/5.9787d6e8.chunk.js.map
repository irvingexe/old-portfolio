{"version":3,"sources":["hooks/useWindowSize.js","components/fixed/Background.js","scratchCard.js","cursorTracking.js","App.js"],"names":["useWindowSize","getSize","width","window","innerWidth","height","innerHeight","useState","windowSize","setWindowSize","useEffect","handleResize","addEventListener","removeEventListener","Background","state","useContext","Context","id","style","background","project","isOpened","projects","color","opacity","PIXI","skipHello","brush","lines","cleaning","requests","mousePosition","x","y","brushSize","app","resizeTo","antialias","backgroundColor","stage","blurFilter","BlurFilter","blur","beginFill","drawCircle","endFill","position","gContainer","addChild","cacheAsBitmap","scale","set","filters","imageToReveal","WHITE","tint","screen","rec","alpha","renderTexture","create","renderTextureSprite","mask","cursor","document","querySelector","appendChild","view","repaint","newColor","destroy","clean","pointerMove","renderer","render","length","push","requestAnimationFrame","map","i","cancelAnimationFrame","resetBrush","resize","children","forEach","e","removeChild","cursorTracking","getElementById","left","clientX","top","clientY","Nav","lazy","Cursor","Project","Landing","App","isInitialMount","useRef","lastProject","scratchCard","current","className","onMouseMove","display","onTouchMove","touches","Lottie","play","animationData","smile","speed"],"mappings":"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","file":"static/js/5.9787d6e8.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nexport default function useWindowSize() {\r\n  function getSize() {\r\n    return {\r\n      width: window.innerWidth,\r\n      height: window.innerHeight,\r\n    };\r\n  }\r\n\r\n  const [windowSize, setWindowSize] = useState(getSize);\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowSize(getSize());\r\n    }\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n\r\n  return windowSize;\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport \"../../styles/background.css\";\r\nimport projects from \"../projects.json\";\r\nimport Context from \"../../store/context\";\r\n\r\nexport default function Background() {\r\n  const { state } = useContext(Context);\r\n  return (\r\n    <div\r\n      id=\"background\"\r\n      style={{\r\n        background: state.project.isOpened\r\n          ? projects[state.project.id].color\r\n          : \"#00000000\",\r\n      }}\r\n    >\r\n      <div\r\n        id=\"doodle\"\r\n        style={{\r\n          opacity: state.project.isOpened ? 0 : 1,\r\n        }}\r\n      ></div>\r\n      <div />\r\n    </div>\r\n  );\r\n}\r\n","import * as PIXI from \"pixi.js/dist/pixi\";\r\n\r\nPIXI.utils.skipHello();\r\nlet color = { background: 0, brush: 0 };\r\nlet lines = [];\r\nlet cleaning = false;\r\nlet requests = [];\r\nlet mousePosition = { x: 0, y: 0 };\r\nlet brushSize =\r\n  window.innerWidth < window.innerHeight\r\n    ? window.innerWidth / 2.5\r\n    : window.innerHeight / 2.5;\r\n\r\nconst app = new PIXI.Application({\r\n  resizeTo: window,\r\n  antialias: true,\r\n  backgroundColor: 0xf2ebe3,\r\n});\r\nconst { stage } = app;\r\n\r\nvar blurFilter = new PIXI.filters.BlurFilter();\r\nblurFilter.blur = 1;\r\n\r\nconst brush = new PIXI.Graphics();\r\nbrush.beginFill(0xffffff);\r\nbrush.drawCircle(\r\n  0,\r\n  0,\r\n  window.innerWidth < window.innerHeight\r\n    ? window.innerWidth / 2\r\n    : window.innerHeight / 2\r\n);\r\nbrush.endFill();\r\nbrush.width = brushSize * 2;\r\nbrush.height = brushSize * 2;\r\nbrush.position.x = brushSize;\r\nbrush.position.y = brushSize;\r\n\r\nlet gContainer = new PIXI.Container();\r\ngContainer.addChild(brush);\r\ngContainer.cacheAsBitmap = true;\r\ngContainer.scale.set(0.5);\r\ngContainer.filters = [blurFilter];\r\n\r\nlet imageToReveal = new PIXI.Sprite(PIXI.Texture.WHITE);\r\nimageToReveal.tint = 0xd9c7ad;\r\nstage.addChild(imageToReveal);\r\nimageToReveal.width = app.screen.width;\r\nimageToReveal.height = app.screen.height;\r\n\r\nlet rec = new PIXI.Sprite(PIXI.Texture.WHITE);\r\nrec.tint = 0xf2ebe3;\r\nstage.addChild(rec);\r\nrec.width = app.screen.width;\r\nrec.height = app.screen.height;\r\nrec.alpha = 0;\r\n\r\nconst renderTexture = PIXI.RenderTexture.create(\r\n  app.screen.width,\r\n  app.screen.height\r\n);\r\n\r\nconst renderTextureSprite = new PIXI.Sprite(renderTexture);\r\nstage.addChild(renderTextureSprite);\r\nimageToReveal.mask = renderTextureSprite;\r\n\r\nexport const create = () => {\r\n  document.querySelector(\"#background :first-child\").appendChild(app.view);\r\n};\r\n\r\nexport const repaint = (newColor) => {\r\n  rec.destroy();\r\n  rec = new PIXI.Sprite(PIXI.Texture.WHITE);\r\n  rec.tint = newColor.background;\r\n  stage.addChild(rec);\r\n  rec.width = app.screen.width;\r\n  rec.height = app.screen.height;\r\n  rec.alpha = 0;\r\n  color = newColor;\r\n  clean();\r\n};\r\n\r\nexport const pointerMove = (position) => {\r\n  if (!cleaning) {\r\n    gContainer.position.set(\r\n      position.x - gContainer.width / 2,\r\n      position.y - gContainer.width / 2\r\n    );\r\n    app.renderer.render(gContainer, renderTexture, !lines.length, null, false);\r\n    lines.push(position);\r\n    if (lines.length === 200) {\r\n      stage.addChild(rec);\r\n      clean();\r\n    }\r\n  }\r\n  mousePosition = position;\r\n};\r\n\r\nconst clean = () => {\r\n  cleaning = true;\r\n  gContainer.scale.x += 0.1;\r\n  gContainer.scale.y += 0.1;\r\n  gContainer.position.set(\r\n    mousePosition.x - gContainer.width / 2,\r\n    mousePosition.y - gContainer.width / 2\r\n  );\r\n\r\n  if (gContainer.scale.x > 0.1 * 30 + 0.5) {\r\n    rec.alpha += 1 / 30;\r\n  }\r\n  if (gContainer.scale.x < 0.1 * 60 + 0.5) {\r\n    requests.push(requestAnimationFrame(clean));\r\n    app.renderer.render(gContainer, renderTexture, false, null, false);\r\n  } else {\r\n    requests.map((i) => {\r\n      cancelAnimationFrame(i);\r\n    });\r\n    lines = [];\r\n    gContainer.scale.x = 0;\r\n    gContainer.scale.y = 0;\r\n    rec.alpha = 1;\r\n\r\n    //\r\n    if (color.background) {\r\n      app.renderer.backgroundColor = color.background;\r\n      imageToReveal.destroy();\r\n      imageToReveal = new PIXI.Sprite(PIXI.Texture.WHITE);\r\n      imageToReveal.tint = color.brush;\r\n      stage.addChild(imageToReveal);\r\n      imageToReveal.width = app.screen.width;\r\n      imageToReveal.height = app.screen.height;\r\n      imageToReveal.mask = renderTextureSprite;\r\n      color = { background: 0, brush: 0 };\r\n    }\r\n    resetBrush();\r\n  }\r\n};\r\n\r\nconst resetBrush = () => {\r\n  if (gContainer.scale.x < 0.5) {\r\n    rec.alpha -= 0.06;\r\n    gContainer.scale.x += 0.03;\r\n    gContainer.scale.y += 0.03;\r\n    gContainer.position.set(\r\n      mousePosition.x - gContainer.width / 2,\r\n      mousePosition.y - gContainer.width / 2\r\n    );\r\n    app.renderer.render(gContainer, renderTexture, true, null, false);\r\n    requests.push(requestAnimationFrame(resetBrush));\r\n  } else {\r\n    requests.map((i) => {\r\n      cancelAnimationFrame(i);\r\n    });\r\n    cleaning = false;\r\n    gContainer.scale.x = 0.5;\r\n    gContainer.scale.y = 0.5;\r\n    rec.alpha = 0;\r\n    pointerMove({ x: mousePosition.x, y: mousePosition.y });\r\n  }\r\n};\r\n\r\nexport const resize = () => {\r\n  lines = [];\r\n  stage.children.forEach((e) => {\r\n    stage.removeChild(e);\r\n  });\r\n  stage.addChild(imageToReveal);\r\n  stage.addChild(rec);\r\n  imageToReveal.width = app.screen.width;\r\n  imageToReveal.height = app.screen.height;\r\n  brushSize =\r\n    window.innerWidth < window.innerHeight\r\n      ? window.innerWidth / 2.5\r\n      : window.innerHeight / 2.5;\r\n  brush.width = brushSize * 2;\r\n  brush.height = brushSize * 2;\r\n  brush.position.x = brushSize;\r\n  brush.position.y = brushSize;\r\n  rec.width = app.screen.width;\r\n  rec.height = app.screen.height;\r\n\r\n  gContainer.destroy();\r\n  gContainer = new PIXI.Container();\r\n  gContainer.addChild(brush);\r\n  gContainer.cacheAsBitmap = true;\r\n  gContainer.scale.set(0.5);\r\n  gContainer.filters = [blurFilter];\r\n\r\n  renderTexture.resize(app.screen.width, app.screen.height, true);\r\n  stage.addChild(renderTextureSprite);\r\n};\r\n","let cursor;\r\n/*\r\nlet dot;\r\nlet lastX = 0;\r\nlet lastY = 0;\r\nlet timeout;\r\nlet deformation = false;\r\nlet dirX = false;\r\nlet dirY = false;\r\nlet rotationDir = false;\r\nlet rotation = 0;\r\nlet lastRotation = 0;\r\n*/\r\n\r\nconst cursorTracking = (e) => {\r\n  cursor = document.getElementById(\"cursor\");\r\n  //dot = document.querySelector(\"#cursor :first-child\");\r\n\r\n  cursor.style.left = e.clientX + \"px\";\r\n  cursor.style.top = e.clientY + \"px\";\r\n\r\n  /*\r\n  clearTimeout(timeout);\r\n\r\n  dirX = lastX < e.clientX;\r\n  dirY = lastY < e.clientY;\r\n  rotation = (Math.atan2(e.clientY - lastY, e.clientX - lastX) * 180) / Math.PI;\r\n  //rotation = rotation >= 0 ? rotation : rotation + 360;\r\n  //lastRotation = lastRotation >= 0 ? lastRotation : lastRotation + 360;\r\n  rotationDir = rotation - lastRotation < 180;\r\n  rotation = rotationDir ? rotation : rotation - 360;\r\n\r\n  //(Math.atan2(e.clientY - lastY, e.clientX - lastX) * 180) / Math.PI +\r\n  if (Math.abs(e.clientY - lastY) > 15 || Math.abs(e.clientX - lastX) > 15) {\r\n    dot.style.width = \"1rem\";\r\n    dot.style.height = \".6rem\";\r\n  }\r\n  dot.style.transform = \"rotate(\" + rotation + \"deg)\";\r\n\r\n  lastX = e.clientX;\r\n  lastY = e.clientY;\r\n  lastRotation = rotation;\r\n  timeout = setTimeout(() => {\r\n    dot.style.width = \".5rem\";\r\n    dot.style.height = \".5rem\";\r\n  }, 30);\r\n  */\r\n};\r\n\r\nexport default cursorTracking;\r\n","import React, { useEffect, useRef, lazy } from \"react\";\r\nimport \"./styles/app.css\";\r\nimport Background from \"./components/fixed/Background\";\r\nimport * as scratchCard from \"./scratchCard\";\r\nimport cursorTracking from \"./cursorTracking\";\r\nimport useWindowSize from \"./hooks/useWindowSize\";\r\nimport Lottie from \"./components/Lottie\";\r\nimport smile from \"./assets/smile.json\";\r\nconst Nav = lazy(() => import(\"./components/fixed/Nav\"));\r\nconst Cursor = lazy(() => import(\"./components/fixed/Cursor\"));\r\nconst Project = lazy(() => import(\"./components/fixed/Project\"));\r\nconst Landing = lazy(() => import(\"./components/landing/Landing\"));\r\n\r\nexport default function App() {\r\n  const windowSize = useWindowSize();\r\n  const isInitialMount = useRef(true);\r\n  const project = useRef(null);\r\n  const lastProject = useRef(null);\r\n  const color = useRef(null);\r\n\r\n  useEffect(() => {\r\n    scratchCard.create();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isInitialMount.current) {\r\n      isInitialMount.current = false;\r\n    } else {\r\n      scratchCard.resize();\r\n    }\r\n  }, [windowSize]);\r\n\r\n  window.addEventListener(\"scroll\", () => {\r\n    if (document.querySelector(\".modal\").style.top !== \"0px\") {\r\n      project.current =\r\n        document.querySelector(\"#work > :nth-child(1)[data-scroll='in']\") ||\r\n        document.querySelector(\"#work > :nth-child(2)[data-scroll='in']\");\r\n      if (project.current !== lastProject.current) {\r\n        color.current = document.querySelector(\r\n          \"#work > :nth-child(1)[data-scroll='in']\"\r\n        )\r\n          ? { background: 0xfde8d7, brush: 0xffcca5 }\r\n          : document.querySelector(\"#work > :nth-child(2)[data-scroll='in']\")\r\n          ? { background: 0xccdaf5, brush: 0xa6c0f4 }\r\n          : { background: 0xf2ebe3, brush: 0xd9c7ad };\r\n        scratchCard.repaint(color.current);\r\n        lastProject.current = project.current;\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className=\"App\"\r\n      onMouseMove={(e) => {\r\n        document.querySelector(\"#cursor\").style.display = \"flex\";\r\n        scratchCard.pointerMove({ x: e.clientX, y: e.clientY });\r\n        cursorTracking(e);\r\n      }}\r\n      onTouchMove={(e) => {\r\n        document.querySelector(\"#cursor\").style.display = \"none\";\r\n        scratchCard.pointerMove({\r\n          x: e.touches[0].clientX,\r\n          y: e.touches[0].clientY,\r\n        });\r\n      }}\r\n    >\r\n      <Background />\r\n      <Cursor />\r\n      <Nav />\r\n      <Project />\r\n      <Landing />\r\n      <div className=\"center logo\">\r\n        <Lottie\r\n          play={isInitialMount.current}\r\n          animationData={smile}\r\n          speed={0.5}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}