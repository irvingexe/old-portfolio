{"version":3,"sources":["hooks/useWindowSize.js","components/fixed/Background.js","scratchCard.js","cursorTracking.js","components/ScrollOut.js","App.js"],"names":["useWindowSize","getSize","width","window","innerWidth","height","innerHeight","useState","windowSize","setWindowSize","useEffect","handleResize","addEventListener","removeEventListener","Background","state","useContext","Context","id","style","background","project","isOpened","projects","color","opacity","PIXI","skipHello","fps","brush","lines","cleaning","requests","times","frames","mousePosition","x","y","brushSize","app","resizeTo","antialias","backgroundColor","stage","blurFilter","BlurFilter","blur","beginFill","drawCircle","endFill","position","gContainer","addChild","cacheAsBitmap","scale","set","filters","imageToReveal","WHITE","tint","screen","rec","alpha","renderTexture","create","renderTextureSprite","mask","cursor","document","querySelector","appendChild","view","repaint","newColor","destroy","clean","pointerMove","renderer","render","length","push","now","performance","shift","requestAnimationFrame","map","i","cancelAnimationFrame","resetBrush","resize","children","forEach","e","removeChild","cursorTracking","getElementById","left","clientX","top","clientY","ScrollOutJS","ScrollOut","clamp","v","min","max","sign","cache","hyphenate","value","replace","replacer","match","toLowerCase","win","root","documentElement","$","parent","nodeName","slice","call","querySelectorAll","clearTask","setAttrs","el","attrs","key","setAttribute","setProps","cssProps","props","setProperty","n","Math","round","subscribers","loop","s2","noop","SCROLL","RESIZE","ON","OFF","opts","elementContextList","sub","clientOffsetX","clientOffsety","onChange","onHidden","onShown","onScroll","se","scrollingElement","container","doc","rootChanged","scrollingElementContext","index","targets","scope","element","update","hasChildChanged","fn","clientWidth","clientHeight","scrollDirX","scrollLeft","pageXOffset","scrollDirY","scrollTop","pageYOffset","scrollPercentX","scrollWidth","scrollPercentY","scrollHeight","index_1","ctx","target","offsetX","offsetY","offsetLeft","offsetTop","offsetParent","elementHeight","offsetHeight","elementWidth","offsetWidth","visibleX","visibleY","intersectX","intersectY","viewportX","viewportY","visible","offset","threshold","changedVisible","_changed","_visibleChanged","__changed__","filter","s","navClick","classList","contains","dataset","section","remove","error","add","scroll","once","splice","maybeUnsubscribe","undefined","teardown","setTimeout","Nav","lazy","Cursor","Project","Landing","App","isInitialMount","useRef","lastProject","scratchCard","current","className","onMouseMove","display","onTouchMove","touches","Lottie","play","animationData","smile","speed"],"mappings":"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","file":"static/js/5.d8980e27.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nexport default function useWindowSize() {\r\n  function getSize() {\r\n    return {\r\n      width: window.innerWidth,\r\n      height: window.innerHeight,\r\n    };\r\n  }\r\n\r\n  const [windowSize, setWindowSize] = useState(getSize);\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowSize(getSize());\r\n    }\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n\r\n  return windowSize;\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport \"../../styles/background.css\";\r\nimport projects from \"../projects.json\";\r\nimport Context from \"../../store/context\";\r\n\r\nexport default function Background() {\r\n  const { state } = useContext(Context);\r\n  return (\r\n    <div\r\n      id=\"background\"\r\n      style={{\r\n        background: state.project.isOpened\r\n          ? projects[state.project.id].color\r\n          : \"#00000000\",\r\n      }}\r\n    >\r\n      <div\r\n        id=\"doodle\"\r\n        style={{\r\n          opacity: state.project.isOpened ? 0 : 1,\r\n        }}\r\n      ></div>\r\n      <div />\r\n    </div>\r\n  );\r\n}\r\n","import * as PIXI from \"pixi.js/dist/pixi\";\r\n\r\nPIXI.utils.skipHello();\r\nlet color = { background: 0, brush: 0 };\r\nlet lines = [];\r\nlet cleaning = false;\r\nlet requests = [];\r\nconst times = [];\r\nlet fps;\r\nlet frames = 40;\r\nlet mousePosition = { x: 0, y: 0 };\r\nlet brushSize =\r\n  window.innerWidth < window.innerHeight\r\n    ? window.innerWidth / 2.5\r\n    : window.innerHeight / 2.5;\r\n\r\nconst app = new PIXI.Application({\r\n  resizeTo: window,\r\n  antialias: true,\r\n  backgroundColor: 0xf2ebe3,\r\n});\r\nconst { stage } = app;\r\n\r\nvar blurFilter = new PIXI.filters.BlurFilter();\r\nblurFilter.blur = 1;\r\n\r\nconst brush = new PIXI.Graphics();\r\nbrush.beginFill(0xffffff);\r\nbrush.drawCircle(\r\n  0,\r\n  0,\r\n  window.innerWidth < window.innerHeight\r\n    ? window.innerWidth / 2\r\n    : window.innerHeight / 2\r\n);\r\nbrush.endFill();\r\nbrush.width = brushSize * 2;\r\nbrush.height = brushSize * 2;\r\nbrush.position.x = brushSize;\r\nbrush.position.y = brushSize;\r\n\r\nlet gContainer = new PIXI.Container();\r\ngContainer.addChild(brush);\r\ngContainer.cacheAsBitmap = true;\r\ngContainer.scale.set(0.5);\r\ngContainer.filters = [blurFilter];\r\n\r\nlet imageToReveal = new PIXI.Sprite(PIXI.Texture.WHITE);\r\nimageToReveal.tint = 0xd9c7ad;\r\nstage.addChild(imageToReveal);\r\nimageToReveal.width = app.screen.width;\r\nimageToReveal.height = app.screen.height;\r\n\r\nlet rec = new PIXI.Sprite(PIXI.Texture.WHITE);\r\nrec.tint = 0xf2ebe3;\r\nstage.addChild(rec);\r\nrec.width = app.screen.width;\r\nrec.height = app.screen.height;\r\nrec.alpha = 0;\r\n\r\nconst renderTexture = PIXI.RenderTexture.create(\r\n  app.screen.width,\r\n  app.screen.height\r\n);\r\n\r\nconst renderTextureSprite = new PIXI.Sprite(renderTexture);\r\nstage.addChild(renderTextureSprite);\r\nimageToReveal.mask = renderTextureSprite;\r\n\r\nexport const create = () => {\r\n  document.querySelector(\"#background :first-child\").appendChild(app.view);\r\n};\r\n\r\nexport const repaint = (newColor) => {\r\n  rec.destroy();\r\n  rec = new PIXI.Sprite(PIXI.Texture.WHITE);\r\n  rec.tint = newColor.background;\r\n  stage.addChild(rec);\r\n  rec.width = app.screen.width;\r\n  rec.height = app.screen.height;\r\n  rec.alpha = 0;\r\n  color = newColor;\r\n  clean();\r\n};\r\n\r\nexport const pointerMove = (position) => {\r\n  if (!cleaning) {\r\n    gContainer.position.set(\r\n      position.x - gContainer.width / 2,\r\n      position.y - gContainer.width / 2\r\n    );\r\n    app.renderer.render(gContainer, renderTexture, !lines.length, null, false);\r\n    lines.push(position);\r\n    if (lines.length === 200) {\r\n      stage.addChild(rec);\r\n      clean();\r\n    }\r\n  }\r\n  mousePosition = position;\r\n};\r\n\r\nconst clean = () => {\r\n  //dynamic frame rate\r\n  const now = performance.now();\r\n  while (times.length > 0 && times[0] <= now - 1000) {\r\n    times.shift();\r\n  }\r\n  times.push(now);\r\n  fps = times.length;\r\n\r\n  frames = (60 * 20) / fps;\r\n\r\n  cleaning = true;\r\n  gContainer.scale.x += 0.1;\r\n  gContainer.scale.y += 0.1;\r\n  gContainer.position.set(\r\n    mousePosition.x - gContainer.width / 2,\r\n    mousePosition.y - gContainer.width / 2\r\n  );\r\n\r\n  if (gContainer.scale.x > 1 / (frames / 2) + 0.5) {\r\n    rec.alpha += 1 / (frames / 2);\r\n  }\r\n  if (rec.alpha < 1) {\r\n    requests.push(requestAnimationFrame(clean));\r\n    app.renderer.render(gContainer, renderTexture, false, null, false);\r\n  } else {\r\n    requests.map((i) => {\r\n      cancelAnimationFrame(i);\r\n    });\r\n    lines = [];\r\n    gContainer.scale.x = 0;\r\n    gContainer.scale.y = 0;\r\n    rec.alpha = 1;\r\n\r\n    //\r\n    if (color.background) {\r\n      app.renderer.backgroundColor = color.background;\r\n      imageToReveal.destroy();\r\n      imageToReveal = new PIXI.Sprite(PIXI.Texture.WHITE);\r\n      imageToReveal.tint = color.brush;\r\n      stage.addChild(imageToReveal);\r\n      imageToReveal.width = app.screen.width;\r\n      imageToReveal.height = app.screen.height;\r\n      imageToReveal.mask = renderTextureSprite;\r\n      color = { background: 0, brush: 0 };\r\n    }\r\n    resetBrush();\r\n  }\r\n};\r\n\r\nconst resetBrush = () => {\r\n  if (rec.alpha >= 0) {\r\n    rec.alpha -= 0.06;\r\n    app.renderer.render(gContainer, renderTexture, true, null, false);\r\n    requests.push(requestAnimationFrame(resetBrush));\r\n  } else {\r\n    requests.map((i) => {\r\n      cancelAnimationFrame(i);\r\n    });\r\n    cleaning = false;\r\n    gContainer.scale.x = 0.5;\r\n    gContainer.scale.y = 0.5;\r\n    rec.alpha = 0;\r\n    //pointerMove({ x: mousePosition.x, y: mousePosition.y });\r\n  }\r\n};\r\n\r\nexport const resize = () => {\r\n  lines = [];\r\n  stage.children.forEach((e) => {\r\n    stage.removeChild(e);\r\n  });\r\n  stage.addChild(imageToReveal);\r\n  stage.addChild(rec);\r\n  imageToReveal.width = app.screen.width;\r\n  imageToReveal.height = app.screen.height;\r\n  brushSize =\r\n    window.innerWidth < window.innerHeight\r\n      ? window.innerWidth / 2.5\r\n      : window.innerHeight / 2.5;\r\n  brush.width = brushSize * 2;\r\n  brush.height = brushSize * 2;\r\n  brush.position.x = brushSize;\r\n  brush.position.y = brushSize;\r\n  rec.width = app.screen.width;\r\n  rec.height = app.screen.height;\r\n\r\n  gContainer.destroy();\r\n  gContainer = new PIXI.Container();\r\n  gContainer.addChild(brush);\r\n  gContainer.cacheAsBitmap = true;\r\n  gContainer.scale.set(0.5);\r\n  gContainer.filters = [blurFilter];\r\n\r\n  renderTexture.resize(app.screen.width, app.screen.height, true);\r\n  stage.addChild(renderTextureSprite);\r\n};\r\n","let cursor;\r\n/*\r\nlet dot;\r\nlet lastX = 0;\r\nlet lastY = 0;\r\nlet timeout;\r\nlet deformation = false;\r\nlet dirX = false;\r\nlet dirY = false;\r\nlet rotationDir = false;\r\nlet rotation = 0;\r\nlet lastRotation = 0;\r\n*/\r\n\r\nconst cursorTracking = (e) => {\r\n  cursor = document.getElementById(\"cursor\");\r\n  //dot = document.querySelector(\"#cursor :first-child\");\r\n\r\n  cursor.style.left = e.clientX + \"px\";\r\n  cursor.style.top = e.clientY + \"px\";\r\n\r\n  /*\r\n  clearTimeout(timeout);\r\n\r\n  dirX = lastX < e.clientX;\r\n  dirY = lastY < e.clientY;\r\n  rotation = (Math.atan2(e.clientY - lastY, e.clientX - lastX) * 180) / Math.PI;\r\n  //rotation = rotation >= 0 ? rotation : rotation + 360;\r\n  //lastRotation = lastRotation >= 0 ? lastRotation : lastRotation + 360;\r\n  rotationDir = rotation - lastRotation < 180;\r\n  rotation = rotationDir ? rotation : rotation - 360;\r\n\r\n  //(Math.atan2(e.clientY - lastY, e.clientX - lastX) * 180) / Math.PI +\r\n  if (Math.abs(e.clientY - lastY) > 15 || Math.abs(e.clientX - lastX) > 15) {\r\n    dot.style.width = \"1rem\";\r\n    dot.style.height = \".6rem\";\r\n  }\r\n  dot.style.transform = \"rotate(\" + rotation + \"deg)\";\r\n\r\n  lastX = e.clientX;\r\n  lastY = e.clientY;\r\n  lastRotation = rotation;\r\n  timeout = setTimeout(() => {\r\n    dot.style.width = \".5rem\";\r\n    dot.style.height = \".5rem\";\r\n  }, 30);\r\n  */\r\n};\r\n\r\nexport default cursorTracking;\r\n","import React from 'react';\r\nimport { useEffect } from 'react';\r\n\r\nexport const ScrollOutJS = () => {\r\n  var ScrollOut = (function () {\r\n    'use strict';\r\n\r\n    function clamp(v, min, max) {\r\n      return min > v ? min : max < v ? max : v;\r\n    }\r\n    function sign(x) {\r\n      return +(x > 0) - +(x < 0);\r\n    }\r\n    function round(n) {\r\n      return Math.round(n * 10000) / 10000;\r\n    }\r\n\r\n    var cache = {};\r\n    function hyphenate(value) {\r\n      return (\r\n        cache[value] || (cache[value] = value.replace(/([A-Z])/g, replacer))\r\n      );\r\n    }\r\n    function replacer(match) {\r\n      return '-' + match[0].toLowerCase();\r\n    }\r\n\r\n    var win = window;\r\n    var root = document.documentElement;\r\n    /** find elements */\r\n    function $(e, parent) {\r\n      return !e || e.length === 0\r\n        ? // null or empty string returns empty array\r\n          []\r\n        : e.nodeName\r\n        ? // a single element is wrapped in an array\r\n          [e]\r\n        : // selector and NodeList are converted to Element[]\r\n          [].slice.call(\r\n            e[0].nodeName ? e : (parent || root).querySelectorAll(e)\r\n          );\r\n    }\r\n    var setAttrs = function (el, attrs) {\r\n      // tslint:disable-next-line:forin\r\n      for (var key in attrs) {\r\n        el.setAttribute('data-' + hyphenate(key), attrs[key]);\r\n      }\r\n    };\r\n    var setProps = function (cssProps) {\r\n      return function (el, props) {\r\n        for (var key in props) {\r\n          if (cssProps === true || cssProps[key]) {\r\n            el.style.setProperty('--' + hyphenate(key), round(props[key]));\r\n          }\r\n        }\r\n      };\r\n    };\r\n\r\n    var clearTask;\r\n    var subscribers = [];\r\n    function subscribe(fn) {\r\n      subscribers.push(fn);\r\n      if (!clearTask) {\r\n        loop();\r\n      }\r\n      return function () {\r\n        subscribers = subscribers.filter(function (s) {\r\n          return s !== fn;\r\n        });\r\n        if (!subscribers.length && clearTask) {\r\n          clearTask = 0;\r\n          cancelAnimationFrame(clearTask);\r\n        }\r\n      };\r\n    }\r\n    function loop() {\r\n      // process subscribers\r\n      var s = subscribers.slice();\r\n      s.forEach(function (s2) {\r\n        return s2();\r\n      });\r\n      // schedule next loop if the queue needs it\r\n      clearTask = subscribers.length ? requestAnimationFrame(loop) : 0;\r\n    }\r\n\r\n    function noop() {}\r\n\r\n    var SCROLL = 'scroll';\r\n    var RESIZE = 'resize';\r\n    var ON = 'addEventListener';\r\n    var OFF = 'removeEventListener';\r\n    /**\r\n     * Creates a new instance of ScrollOut that marks elements in the viewport with\r\n     * an \"in\" class and marks elements outside of the viewport with an \"out\"\r\n     */\r\n    // tslint:disable-next-line:no-default-export\r\n    function main(opts) {\r\n      // Apply default options.\r\n      opts = opts || {};\r\n      // Debounce onChange/onHidden/onShown.\r\n      var onChange = opts.onChange || noop;\r\n      var onHidden = opts.onHidden || noop;\r\n      var onShown = opts.onShown || noop;\r\n      var onScroll = opts.onScroll || noop;\r\n      var props = opts.cssProps ? setProps(opts.cssProps) : noop;\r\n      var se = opts.scrollingElement;\r\n      var container = se ? $(se)[0] : win;\r\n      var doc = se ? $(se)[0] : root;\r\n      var rootChanged = false;\r\n      var scrollingElementContext = {};\r\n      var elementContextList;\r\n      var sub;\r\n      var clientOffsetX, clientOffsety;\r\n      function index() {\r\n        elementContextList = $(\r\n          opts.targets || '[data-scroll]',\r\n          $(opts.scope || doc)[0]\r\n        ).map(function (el) {\r\n          return { element: el };\r\n        });\r\n      }\r\n      function update() {\r\n        // Calculate position, direction and ratio.\r\n        var clientWidth = doc.clientWidth;\r\n        var clientHeight = doc.clientHeight;\r\n        var scrollDirX = sign(\r\n          -clientOffsetX + (clientOffsetX = doc.scrollLeft || win.pageXOffset)\r\n        );\r\n        var scrollDirY = sign(\r\n          -clientOffsety + (clientOffsety = doc.scrollTop || win.pageYOffset)\r\n        );\r\n        var scrollPercentX =\r\n          doc.scrollLeft / (doc.scrollWidth - clientWidth || 1);\r\n        var scrollPercentY =\r\n          doc.scrollTop / (doc.scrollHeight - clientHeight || 1);\r\n        // Detect if the root context has changed.\r\n        rootChanged =\r\n          rootChanged ||\r\n          scrollingElementContext.scrollDirX !== scrollDirX ||\r\n          scrollingElementContext.scrollDirY !== scrollDirY ||\r\n          scrollingElementContext.scrollPercentX !== scrollPercentX ||\r\n          scrollingElementContext.scrollPercentY !== scrollPercentY;\r\n        scrollingElementContext.scrollDirX = scrollDirX;\r\n        scrollingElementContext.scrollDirY = scrollDirY;\r\n        scrollingElementContext.scrollPercentX = scrollPercentX;\r\n        scrollingElementContext.scrollPercentY = scrollPercentY;\r\n        var hasChildChanged;\r\n        for (var index_1 = 0; index_1 < elementContextList.length; index_1++) {\r\n          var ctx = elementContextList[index_1];\r\n          var element = ctx.element;\r\n          // find the distance from the element to the scrolling container\r\n          var target = element;\r\n          var offsetX = 0;\r\n          var offsetY = 0;\r\n          do {\r\n            offsetX += target.offsetLeft;\r\n            offsetY += target.offsetTop;\r\n            target = target.offsetParent;\r\n          } while (target && target !== container);\r\n          // Get element dimensions.\r\n          var elementHeight = element.clientHeight || element.offsetHeight || 0;\r\n          var elementWidth = element.clientWidth || element.offsetWidth || 0;\r\n          // Find visible ratios for each element.\r\n          var visibleX =\r\n            (clamp(\r\n              offsetX + elementWidth,\r\n              clientOffsetX,\r\n              clientOffsetX + clientWidth\r\n            ) -\r\n              clamp(offsetX, clientOffsetX, clientOffsetX + clientWidth)) /\r\n            elementWidth;\r\n          var visibleY =\r\n            (clamp(\r\n              offsetY + elementHeight,\r\n              clientOffsety,\r\n              clientOffsety + clientHeight\r\n            ) -\r\n              clamp(offsetY, clientOffsety, clientOffsety + clientHeight)) /\r\n            elementHeight;\r\n          var intersectX = visibleX === 1 ? 0 : sign(offsetX - clientOffsetX);\r\n          var intersectY = visibleY === 1 ? 0 : sign(offsetY - clientOffsety);\r\n          var viewportX = clamp(\r\n            (clientOffsetX - (elementWidth / 2 + offsetX - clientWidth / 2)) /\r\n              (clientWidth / 2),\r\n            -1,\r\n            1\r\n          );\r\n          var viewportY = clamp(\r\n            (clientOffsety - (elementHeight / 2 + offsetY - clientHeight / 2)) /\r\n              (clientHeight / 2),\r\n            -1,\r\n            1\r\n          );\r\n          var visible = +(opts.offset\r\n            ? opts.offset <= clientOffsety\r\n            : (opts.threshold || 0) < visibleX * visibleY);\r\n          var changedVisible = ctx.visible !== visible;\r\n          var changed =\r\n            changedVisible ||\r\n            ctx._changed ||\r\n            ctx.visible !== visible ||\r\n            ctx.visibleX !== visibleX ||\r\n            ctx.visibleY !== visibleY ||\r\n            ctx.index !== index_1 ||\r\n            ctx.elementHeight !== elementHeight ||\r\n            ctx.elementWidth !== elementWidth ||\r\n            ctx.offsetX !== offsetX ||\r\n            ctx.offsetY !== offsetY ||\r\n            ctx.intersectX !== ctx.intersectX ||\r\n            ctx.intersectY !== ctx.intersectY ||\r\n            ctx.viewportX !== viewportX ||\r\n            ctx.viewportY !== viewportY;\r\n          if (changed) {\r\n            hasChildChanged = true;\r\n            ctx._changed = true;\r\n            ctx._visibleChanged = changedVisible;\r\n            ctx.visible = visible;\r\n            ctx.elementHeight = elementHeight;\r\n            ctx.elementWidth = elementWidth;\r\n            ctx.index = index_1;\r\n            ctx.offsetX = offsetX;\r\n            ctx.visibleX = visibleX;\r\n            ctx.visibleY = visibleY;\r\n            ctx.intersectX = intersectX;\r\n            ctx.intersectY = intersectY;\r\n            ctx.viewportX = viewportX;\r\n            ctx.viewportY = viewportY;\r\n            ctx.visible = visible;\r\n          }\r\n        }\r\n        if ((!sub && hasChildChanged) || scrollingElementContext.__changed__) {\r\n          sub = subscribe(render);\r\n        }\r\n      }\r\n      function render() {\r\n        if (!elementContextList) {\r\n          return;\r\n        }\r\n        // Update root attributes if they have changed.\r\n        if (rootChanged) {\r\n          rootChanged = false;\r\n          setAttrs(doc, {\r\n            scrollDirX: scrollingElementContext.scrollDirX,\r\n            scrollDirY: scrollingElementContext.scrollDirY,\r\n          });\r\n          props(doc, scrollingElementContext);\r\n          onScroll(doc, scrollingElementContext, elementContextList);\r\n        }\r\n        var len = elementContextList.length;\r\n        for (var x = len - 1; x > -1; x--) {\r\n          var ctx = elementContextList[x];\r\n          var el = ctx.element;\r\n          var visible = ctx.visible;\r\n          if (ctx._changed) {\r\n            ctx._changed = false;\r\n            props(el, ctx);\r\n          }\r\n          if (ctx._visibleChanged) {\r\n            //irving change\r\n            let navClick = false;\r\n            document.querySelectorAll('.link').forEach((e) => {\r\n              if (e.classList.contains('clicked')) {\r\n                navClick = true;\r\n                if (e === document.querySelector('.' + el.dataset.section)) {\r\n                  document\r\n                    .querySelector('.clicked')\r\n                    .classList.remove('clicked');\r\n                }\r\n              }\r\n            });\r\n\r\n            if (visible) {\r\n              if (!navClick) {\r\n                for (let i in document.querySelectorAll('.link')) {\r\n                  try {\r\n                    document\r\n                      .querySelectorAll('.link')\r\n                      [i].classList.remove('active');\r\n                  } catch (error) {}\r\n                }\r\n                try {\r\n                  if (document.querySelector('.modal').style.top !== '0px') {\r\n                    document\r\n                      .querySelector('.' + el.dataset.section)\r\n                      .classList.add('active');\r\n                  }\r\n                } catch (error) {}\r\n              } else {\r\n                navClick = false;\r\n              }\r\n            }\r\n            /*\r\n                \r\n                */\r\n            //irving change\r\n            setAttrs(el, { scroll: visible ? 'in' : 'out' });\r\n            onChange(el, ctx, doc);\r\n            (visible ? onShown : onHidden)(el, ctx, doc);\r\n          }\r\n          // if this is shown multiple times, keep it in the list\r\n          if (visible && opts.once) {\r\n            elementContextList.splice(x, 1);\r\n          }\r\n        }\r\n        maybeUnsubscribe();\r\n      }\r\n      function maybeUnsubscribe() {\r\n        if (sub) {\r\n          sub();\r\n          sub = undefined;\r\n        }\r\n      }\r\n      // Run initialize index.\r\n      index();\r\n      update();\r\n      // Hook up document listeners to automatically detect changes.\r\n      win[ON](RESIZE, update);\r\n      container[ON](SCROLL, update);\r\n      return {\r\n        index: index,\r\n        update: update,\r\n        teardown: function () {\r\n          maybeUnsubscribe();\r\n          win[OFF](RESIZE, update);\r\n          container[OFF](SCROLL, update);\r\n        },\r\n      };\r\n    }\r\n\r\n    return main;\r\n  })();\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      ScrollOut({ targets: '.scrollOut', threshold: 0.5 });\r\n    }, 1000);\r\n  }, [ScrollOut]);\r\n\r\n  return null;\r\n};\r\n","import React, { useEffect, useRef, lazy } from 'react';\r\nimport './styles/app.css';\r\nimport Background from './components/fixed/Background';\r\nimport * as scratchCard from './scratchCard';\r\nimport cursorTracking from './cursorTracking';\r\nimport useWindowSize from './hooks/useWindowSize';\r\nimport Lottie from './components/Lottie';\r\nimport smile from './assets/smile.json';\r\nimport projects from './components/projects.json';\r\nimport { ScrollOutJS } from './components/ScrollOut';\r\n\r\nconst Nav = lazy(() => import('./components/fixed/Nav'));\r\nconst Cursor = lazy(() => import('./components/fixed/Cursor'));\r\nconst Project = lazy(() => import('./components/fixed/Project'));\r\nconst Landing = lazy(() => import('./components/landing/Landing'));\r\n\r\nexport default function App() {\r\n  const windowSize = useWindowSize();\r\n  const isInitialMount = useRef(true);\r\n  const project = useRef(null);\r\n  const lastProject = useRef(null);\r\n  const color = useRef(null);\r\n  ScrollOutJS();\r\n\r\n  useEffect(() => {\r\n    scratchCard.create();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isInitialMount.current) {\r\n      isInitialMount.current = false;\r\n    } else {\r\n      scratchCard.resize();\r\n    }\r\n  }, [windowSize]);\r\n\r\n  window.addEventListener('scroll', () => {\r\n    if (document.querySelector('.modal').style.top !== '0px') {\r\n      project.current =\r\n        document.querySelector(\"#work > :nth-child(1)[data-scroll='in']\") ||\r\n        document.querySelector(\"#work > :nth-child(2)[data-scroll='in']\") ||\r\n        document.querySelector(\"#work > :nth-child(3)[data-scroll='in']\") ||\r\n        document.querySelector(\"#work > :nth-child(4)[data-scroll='in']\") ||\r\n        document.querySelector(\"#work > :nth-child(5)[data-scroll='in']\");\r\n      if (project.current !== lastProject.current) {\r\n        color.current = document.querySelector(\r\n          \"#work > :nth-child(1)[data-scroll='in']\"\r\n        )\r\n          ? { background: projects[0].background, brush: projects[0].brush } //1\r\n          : document.querySelector(\"#work > :nth-child(2)[data-scroll='in']\")\r\n          ? { background: projects[1].background, brush: projects[1].brush } //2\r\n          : document.querySelector(\"#work > :nth-child(3)[data-scroll='in']\")\r\n          ? { background: projects[2].background, brush: projects[2].brush } //3\r\n          : document.querySelector(\"#work > :nth-child(4)[data-scroll='in']\")\r\n          ? { background: projects[3].background, brush: projects[3].brush } //4\r\n          : document.querySelector(\"#work > :nth-child(5)[data-scroll='in']\")\r\n          ? { background: projects[4].background, brush: projects[4].brush } //5\r\n          : { background: 0xf2ebe3, brush: 0xd9c7ad };\r\n        scratchCard.repaint(color.current);\r\n        lastProject.current = project.current;\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className=\"App\"\r\n      onMouseMove={(e) => {\r\n        document.querySelector('#cursor').style.display = 'flex';\r\n        scratchCard.pointerMove({ x: e.clientX, y: e.clientY });\r\n        cursorTracking(e);\r\n      }}\r\n      onTouchMove={(e) => {\r\n        document.querySelector('#cursor').style.display = 'none';\r\n        scratchCard.pointerMove({\r\n          x: e.touches[0].clientX,\r\n          y: e.touches[0].clientY,\r\n        });\r\n      }}\r\n    >\r\n      <Background />\r\n      <Cursor />\r\n      <Nav />\r\n      <Project />\r\n      <Landing />\r\n      <div className=\"center logo\">\r\n        <Lottie\r\n          play={isInitialMount.current}\r\n          animationData={smile}\r\n          speed={0.5}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}